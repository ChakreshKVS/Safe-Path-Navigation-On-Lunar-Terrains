<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lunar Surface Explorer</title>
    <link rel="shortcut icon" href="TemplateData/favicon.ico">
    <link rel="stylesheet" href="TemplateData/style.css">
    <style>
      body {
        margin: 0;
        padding: 0;
        overflow-x: hidden;
        background: #000;
        color: #fff;
      }
      
      @import url('https://fonts.googleapis.com/css2?family=Syncopate:wght@700&display=swap');
      @import url('https://fonts.googleapis.com/css2?family=Roboto+Mono:wght@400&display=swap');
      @import url('https://fonts.googleapis.com/css2?family=Orbitron:wght@900&display=swap');
      @import url('https://fonts.googleapis.com/css2?family=Audiowide&display=swap');
      @import url('https://fonts.googleapis.com/css2?family=Montserrat:wght@700&display=swap');
      @import url('https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@700&display=swap');

      /* Cursor */
      body {
        cursor: none;
      }

      .cursor {
        display: none;
      }

      .cursor-dot {
        display: none;
      }

      /* Loading Screen */
      .loading-screen {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: black;
        z-index: 1000;
        display: flex;
        justify-content: center;
        align-items: center;
        transition: opacity 1s ease;
      }

      .loading-text {
        font-family: 'Roboto Mono', monospace;
        color: white;
        font-size: 14px;
        letter-spacing: 3px;
      }

      /* Updated Navigation styles */
      nav {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        padding: 20px 0;
        z-index: 1000;
        transition: background 0.3s ease;
      }

      nav.scrolled {
        background: rgba(10, 10, 10, 0.95);
        backdrop-filter: blur(10px);
        box-shadow: 0 2px 20px rgba(0, 0, 0, 0.3);
      }

      nav .nav-content {
        display: flex;
        justify-content: center;
        align-items: center;
        gap: 50px;
        max-width: 1200px;
        margin: 0 auto;
      }

      nav a {
        font-family: 'Space Grotesk', sans-serif;
        color: #fff;
        text-decoration: none;
        font-size: 16px;
        text-transform: uppercase;
        letter-spacing: 2px;
        padding: 8px 16px;
        transition: all 0.3s ease;
        position: relative;
      }

      nav a::after {
        content: '';
        position: absolute;
        bottom: 0;
        left: 0;
        width: 0;
        height: 2px;
        background: #fff;
        transition: width 0.3s ease;
      }

      nav a:hover::after {
        width: 100%;
      }

      nav a:hover {
        color: rgba(255, 255, 255, 0.9);
      }

      /* Updated Title Styles */
      .glitch-text {
        position: relative;
        font-family: 'Space Grotesk', sans-serif;
        font-size: 6vw;
        font-weight: 900;
        text-transform: uppercase;
        text-shadow: 
            0 0 10px rgba(0, 195, 255, 0.5),
            0 0 20px rgba(0, 195, 255, 0.3),
            0 0 30px rgba(0, 195, 255, 0.1);
        color: #fff;
        animation: glitchText 5s infinite;
      }

      .subtitle-text {
        font-family: 'Space Grotesk', sans-serif;
        font-size: 1.5vw;
        color: rgba(255, 255, 255, 0.8);
        margin-top: 20px;
        letter-spacing: 5px;
      }

      @keyframes glitchText {
        0% { transform: skew(0deg); }
        20% { transform: skew(0deg); }
        21% { transform: skew(10deg); }
        22% { transform: skew(0deg); }
        90% { transform: skew(0deg); }
        91% { transform: skew(-10deg); }
        92% { transform: skew(0deg); }
      }

      /* Card Icons */
      .card-icon {
        font-size: 48px;
        margin-bottom: 20px;
        animation: float 3s ease-in-out infinite;
      }

      @keyframes float {
        0% { transform: translateY(0px); }
        50% { transform: translateY(-10px); }
        100% { transform: translateY(0px); }
      }

      /* Contact Section Styles */
      .contact-section {
        background: linear-gradient(to bottom, #0a0a0a, #1a1a1a);
        padding: 100px 20px;
      }

      .contact-container {
        display: flex;
        justify-content: center;
        gap: 40px;
        max-width: 1200px;
        margin: 0 auto;
      }

      .contact-card {
        background: rgba(255, 255, 255, 0.05);
        backdrop-filter: blur(10px);
        border: 1px solid rgba(255, 255, 255, 0.1);
        border-radius: 15px;
        padding: 40px;
        text-align: center;
        flex: 1;
        max-width: 400px;
      }

      .glow-button {
        display: inline-block;
        padding: 15px 30px;
        background: linear-gradient(45deg, #00c3ff, #0066ff);
        border-radius: 30px;
        color: white;
        text-decoration: none;
        font-family: 'Space Grotesk', sans-serif;
        font-weight: 600;
        margin-top: 20px;
        transition: all 0.3s ease;
        text-transform: uppercase;
        letter-spacing: 2px;
        box-shadow: 0 0 20px rgba(0, 195, 255, 0.3);
      }

      .glow-button:hover {
        transform: translateY(-3px);
        box-shadow: 0 0 30px rgba(0, 195, 255, 0.5);
      }

      .glow-button.emergency {
        background: linear-gradient(45deg, #ff4646, #ff0000);
        box-shadow: 0 0 20px rgba(255, 0, 0, 0.3);
      }

      .glow-button.emergency:hover {
        box-shadow: 0 0 30px rgba(255, 0, 0, 0.5);
      }

      /* Enhanced Navigation Styles */
      nav a {
        position: relative;
        overflow: hidden;
        padding: 10px 20px;
        transition: all 0.3s ease;
      }

      nav a::before {
        content: '';
        position: absolute;
        top: 0;
        left: -100%;
        width: 100%;
        height: 2px;
        background: linear-gradient(90deg, transparent, #00c3ff);
        transition: left 0.3s ease;
      }

      nav a:hover::before {
        left: 0;
      }

      nav a::after {
        content: '';
        position: absolute;
        bottom: 0;
        right: -100%;
        width: 100%;
        height: 2px;
        background: linear-gradient(90deg, #00c3ff, transparent);
        transition: right 0.3s ease;
      }

      nav a:hover::after {
        right: 0;
      }

      /* Enhanced Title Styling */
      .main-title {
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        z-index: 2;
        text-align: center;
        width: 100%;
        opacity: 0;
        visibility: hidden;
        pointer-events: none;
      }

      .title-line {
        font-family: 'Space Grotesk', sans-serif;
        font-size: 5.5vw;
        font-weight: 700;
        color: rgba(255, 255, 255, 0.95);
        margin: 15px 0;
        opacity: 0;
        letter-spacing: 3px;
        text-transform: uppercase;
        position: relative;
        text-shadow: 
          0 0 20px rgba(255, 255, 255, 0.4),
          0 0 40px rgba(255, 255, 255, 0.2);
      }

      .title-line::before {
        content: attr(data-text);
        position: absolute;
        left: 0;
        top: 0;
        width: 100%;
        height: 100%;
        background: linear-gradient(
          45deg,
          rgba(255, 255, 255, 0.8),
          rgba(200, 200, 200, 0.8)
        );
        -webkit-background-clip: text;
        background-clip: text;
        color: transparent;
        z-index: -1;
        filter: blur(8px);
        opacity: 0.5;
      }

      .main-title.show {
        opacity: 1;
        visibility: visible;
      }

      .title-line.show {
        animation: revealText 1.5s cubic-bezier(0.23, 1, 0.32, 1) forwards;
      }

      #line2.show {
        animation-delay: 0.3s;
      }

      @keyframes revealText {
        0% {
          opacity: 0;
          transform: translateY(40px);
          filter: blur(15px);
        }
        50% {
          opacity: 0.5;
          transform: translateY(20px);
          filter: blur(10px);
        }
        100% {
          opacity: 1;
          transform: translateY(0);
          filter: blur(0);
        }
      }

      /* Glitch Effect */
      .glitch {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        clip: rect(0, 0, 0, 0);
      }

      .title-line:hover {
        animation: glitch 0.3s infinite;
      }

      @keyframes glitch {
        0% {
          clip: rect(31px, 9999px, 94px, 0);
          transform: skew(0.15deg);
        }
        5% {
          clip: rect(55px, 9999px, 30px, 0);
          transform: skew(0.3deg);
        }
        10% {
          clip: rect(90px, 9999px, 98px, 0);
          transform: skew(-0.15deg);
        }
        15% {
          clip: rect(70px, 9999px, 10px, 0);
          transform: skew(0.2deg);
        }
        20% {
          clip: rect(90px, 9999px, 98px, 0);
          transform: skew(-0.3deg);
        }
      }

      /* Corner Decorations */
      .corner {
        position: fixed;
        width: 100px;
        height: 100px;
        border: 2px solid rgba(255, 255, 255, 0.2);
        pointer-events: none;
      }

      .corner-tl { top: 20px; left: 20px; border-right: none; border-bottom: none; }
      .corner-tr { top: 20px; right: 20px; border-left: none; border-bottom: none; }
      .corner-bl { bottom: 20px; left: 20px; border-right: none; border-top: none; }
      .corner-br { bottom: 20px; right: 20px; border-left: none; border-top: none; }

      /* Scan Line Effect */
      .scan-line {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: linear-gradient(to bottom,
          rgba(255,255,255,0) 0%,
          rgba(255,255,255,0.03) 50%,
          rgba(255,255,255,0) 100%);
        animation: scanline 8s linear infinite;
        pointer-events: none;
        z-index: 8;
      }

      @keyframes scanline {
        0% { transform: translateY(-100%); }
        100% { transform: translateY(100%); }
      }

      .char {
        display: inline-block;
        opacity: 0;
        transform: translateY(30px);
        animation: fadeInChar 0.3s ease forwards;
      }

      @keyframes fadeInChar {
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }

      @keyframes slideInLeft {
        0% {
          left: -100%;
          opacity: 0;
        }
        100% {
          left: 5%;
          opacity: 1;
        }
      }

      @keyframes slideInRight {
        0% {
          right: -100%;
          opacity: 0;
        }
        100% {
          right: 5%;
          opacity: 1;
        }
      }
      
      #unity-container {
        position: absolute;
        width: 100%;
        height: 100vh;
        left: 0;
        top: 0;
        z-index: 1;
      }

      #unity-canvas {
        width: 100% !important;
        height: 100% !important;
        background: #000;
      }

      #unity-loading-bar {
        position: absolute;
        left: 50%;
        top: 50%;
        transform: translate(-50%, -50%);
        z-index: 10;
      }

      #unity-progress-bar-empty {
        width: 300px;
        height: 10px;
        background: #2c2c2c;
        border-radius: 5px;
      }

      #unity-progress-bar-full {
        width: 0%;
        height: 100%;
        background: #3498db;
        border-radius: 5px;
        transition: width 0.3s ease;
      }

      #unity-footer {
        position: absolute;
        bottom: 20px;
        right: 20px;
        z-index: 10;
      }

      #unity-warning {
        position: absolute;
        top: 20px;
        right: 20px;
        z-index: 10;
      }

      /* Ambient light effect */
      .ambient-light {
        position: fixed;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        width: 100%;
        height: 100%;
        background: radial-gradient(
          circle at center,
          rgba(255, 255, 255, 0.08) 0%,
          transparent 70%
        );
        pointer-events: none;
        z-index: 5;
      }

      .info-section {
        position: relative;
        width: 100%;
        min-height: 100vh;
        padding: 120px 20px 20px;
        box-sizing: border-box;
        background: linear-gradient(180deg, #0a0a0a 0%, #1a1a1a 100%);
      }

      .info-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
        gap: 40px;
        max-width: 1400px;
        margin: 0 auto;
        padding: 40px;
      }

      .info-card {
        background: rgba(255, 255, 255, 0.05);
        backdrop-filter: blur(10px);
        border: 1px solid rgba(255, 255, 255, 0.1);
        border-radius: 20px;
        padding: 40px;
        transition: all 0.3s ease;
        position: relative;
        overflow: hidden;
      }

      .info-card::before {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: linear-gradient(
            45deg,
            rgba(255, 255, 255, 0.1),
            rgba(255, 255, 255, 0.05)
        );
        opacity: 0;
        transition: opacity 0.3s ease;
      }

      .info-card:hover {
        transform: translateY(-5px);
        box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
      }

      .info-card:hover::before {
        opacity: 1;
      }

      .info-card h3 {
        font-family: 'Space Grotesk', sans-serif;
        font-size: 24px;
        color: #fff;
        margin-bottom: 20px;
        position: relative;
        padding-bottom: 15px;
      }

      .info-card h3::after {
        content: '';
        position: absolute;
        bottom: 0;
        left: 0;
        width: 60px;
        height: 2px;
        background: linear-gradient(90deg, #fff, transparent);
      }

      .info-card p {
        font-family: 'Inter', sans-serif;
        font-size: 16px;
        line-height: 1.6;
        color: rgba(255, 255, 255, 0.8);
        margin-bottom: 20px;
      }

      .stat-number {
        font-size: 48px;
        font-weight: 700;
        background: linear-gradient(45deg, #00c3ff, #2979ff);
        -webkit-background-clip: text;
        background-clip: text;
        color: transparent;
        margin: 20px 0;
        text-align: center;
      }

      .tech-details-list {
        list-style: none;
        padding: 0;
        margin: 20px 0;
      }

      .tech-details-list li {
        color: rgba(255, 255, 255, 0.8);
        margin: 10px 0;
        padding-left: 25px;
        position: relative;
        font-family: 'Space Grotesk', sans-serif;
        font-size: 14px;
      }

      .tech-details-list li::before {
        content: '▹';
        position: absolute;
        left: 0;
        color: #00c3ff;
      }

      .feature-details {
        list-style: none;
        padding: 0;
        margin-top: 15px;
      }

      .feature-details li {
        color: rgba(255, 255, 255, 0.7);
        margin: 8px 0;
        padding-left: 20px;
        position: relative;
        font-size: 14px;
      }

      .feature-details li::before {
        content: '→';
        position: absolute;
        left: 0;
        color: #00c3ff;
      }

      .tech-tags {
        display: flex;
        flex-wrap: wrap;
        gap: 8px;
        margin-top: 20px;
      }

      .tech-tags span {
        background: rgba(0, 195, 255, 0.1);
        padding: 6px 12px;
        border-radius: 15px;
        font-size: 12px;
        font-family: 'Space Grotesk', sans-serif;
        color: rgba(255, 255, 255, 0.9);
        border: 1px solid rgba(0, 195, 255, 0.2);
        transition: all 0.3s ease;
      }

      .tech-tags span:hover {
        background: rgba(0, 195, 255, 0.2);
        transform: translateY(-2px);
      }

      .feature-item {
        background: rgba(255, 255, 255, 0.05);
        padding: 30px;
        border-radius: 20px;
        transition: all 0.3s ease;
        border: 1px solid rgba(255, 255, 255, 0.1);
      }

      .feature-item:hover {
        transform: translateY(-5px);
        background: rgba(255, 255, 255, 0.08);
        box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
      }

      .feature-icon {
        font-size: 36px;
        margin-bottom: 20px;
        display: block;
        animation: float 3s ease-in-out infinite;
      }

      @keyframes float {
        0% { transform: translateY(0px); }
        50% { transform: translateY(-10px); }
        100% { transform: translateY(0px); }
      }

      /* Animation classes */
      .fade-in {
        opacity: 0;
        transform: translateY(20px);
        transition: opacity 0.6s ease, transform 0.6s ease;
      }

      .fade-in.visible {
        opacity: 1;
        transform: translateY(0);
      }

      .section-title {
        font-family: 'Space Grotesk', sans-serif;
        font-size: 48px;
        text-align: center;
        margin-bottom: 60px;
        color: #fff;
        text-transform: uppercase;
        letter-spacing: 3px;
        opacity: 0;
        transform: translateY(20px);
        transition: all 0.6s ease;
      }

      .section-title.visible {
        opacity: 1;
        transform: translateY(0);
      }

      .hero-section {
        position: relative;
        height: 100vh;
        width: 100%;
        padding-top: 80px; /* Add padding for nav */
      }

      .content-wrapper {
        position: relative;
        width: 100%;
        background: #0a0a0a;
      }

      /* Updated Rocket Animation Styles */
      .scroll-rocket {
        position: fixed;
        bottom: 50px;
        left: 50%;
        transform: translateX(-50%);
        opacity: 0;
        transition: opacity 0.5s ease;
        z-index: 1000;
        display: none;
      }

      .scroll-rocket.show {
        opacity: 1;
        animation: floatRocket 2s ease-in-out infinite;
      }

      .scroll-rocket.launching {
        animation: rocketLaunch 2.5s cubic-bezier(.37,.01,.74,.98) forwards;
      }

      .rocket {
        font-size: 48px;
        transform: rotate(0deg);
        transition: transform 0.3s ease;
      }

      @keyframes floatRocket {
        0%, 100% { transform: translateX(-50%) translateY(0); }
        50% { transform: translateX(-50%) translateY(-20px); }
      }

      @keyframes rocketLaunch {
        0% {
          transform: translate(-50%, 0) scale(1);
          opacity: 1;
        }
        20% {
          transform: translate(-50%, -20vh) scale(1.2);
          opacity: 1;
        }
        100% {
          transform: translate(-50%, -120vh) scale(0.2);
          opacity: 0;
        }
      }

      /* Add a flash effect for launch */
      .launch-flash {
        position: fixed;
        bottom: 0;
        left: 0;
        right: 0;
        height: 100vh;
        background: rgba(255, 255, 255, 0);
        pointer-events: none;
        z-index: 99;
        transition: background 0.3s;
      }

      .launch-flash.active {
        animation: flash 1s ease-out forwards;
      }

      @keyframes flash {
        0% { background: rgba(255, 255, 255, 0); }
        50% { background: rgba(255, 255, 255, 0.3); }
        100% { background: rgba(255, 255, 255, 0); }
      }

      .terrain-generator {
        padding: 80px 20px;
        background: rgba(0, 0, 0, 0.8);
      }

      .generator-container {
        max-width: 800px;
        margin: 0 auto;
        padding: 30px;
        background: rgba(255, 255, 255, 0.05);
        border-radius: 15px;
        backdrop-filter: blur(10px);
      }

      .preset-selector,
      .coordinate-inputs {
        margin-bottom: 30px;
      }

      .input-group {
        margin-bottom: 20px;
      }

      .terrain-input {
        width: 100%;
        padding: 12px;
        background: rgba(255, 255, 255, 0.1);
        border: 1px solid rgba(255, 255, 255, 0.2);
        border-radius: 8px;
        color: white;
        font-family: 'Space Grotesk', sans-serif;
        margin-top: 8px;
      }

      .terrain-input:focus {
        outline: none;
        border-color: rgba(255, 255, 255, 0.5);
      }

      label {
        display: block;
        margin-bottom: 8px;
        color: rgba(255, 255, 255, 0.9);
        font-family: 'Space Grotesk', sans-serif;
      }

      .generate-btn {
        width: 100%;
        padding: 15px;
        background: linear-gradient(45deg, #3498db, #2980b9);
        border: none;
        border-radius: 8px;
        color: white;
        font-family: 'Space Grotesk', sans-serif;
        font-size: 16px;
        cursor: pointer;
        transition: transform 0.2s, background 0.3s;
      }

      .generate-btn:hover {
        transform: translateY(-2px);
        background: linear-gradient(45deg, #2980b9, #3498db);
      }

      .result-container {
        margin-top: 30px;
        text-align: center;
      }

      .terrain-image {
        max-width: 100%;
        border-radius: 8px;
        margin-top: 20px;
      }

      .status-message {
        color: rgba(255, 255, 255, 0.8);
        font-family: 'Space Grotesk', sans-serif;
        margin-top: 15px;
      }

      /* Exit animations */
      .exit-overlay {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(0, 0, 0, 0);
        z-index: 998;
        transition: background 3s ease;
        pointer-events: none;
      }

      .exit-overlay.active {
        background: rgba(0, 0, 0, 0.9);
      }

      .stars-container {
        position: fixed;
        width: 100%;
        height: 100%;
        top: 0;
        left: 0;
        z-index: 999;
        pointer-events: none;
      }

      .star {
        position: absolute;
        width: 2px;
        height: 2px;
        background: white;
        border-radius: 50%;
        opacity: 0;
        animation: starTwinkle 2s infinite;
      }

      @keyframes starTwinkle {
        0% { opacity: 0; transform: scale(1); }
        50% { opacity: 1; transform: scale(1.5); }
        100% { opacity: 0; transform: scale(1); }
      }

      /* Specific styles for the exit rocket */
      .scroll-rocket {
        position: fixed;
        bottom: 50px;
        left: 50%;
        transform: translateX(-50%);
        z-index: 1000;
        display: none;
      }

      .scroll-rocket.show {
        opacity: 1;
        animation: floatRocket 2s ease-in-out infinite;
      }

      .scroll-rocket.launching {
        animation: rocketLaunch 2.5s cubic-bezier(.37,.01,.74,.98) forwards;
      }

      .rocket {
        font-size: 48px;
        animation: hover 2s infinite ease-in-out;
      }

      @keyframes hover {
        0%, 100% { transform: translateY(0); }
        50% { transform: translateY(-10px); }
      }

      @keyframes floatRocket {
        0%, 100% { transform: translateX(-50%) translateY(0); }
        50% { transform: translateX(-50%) translateY(-20px); }
      }

      /* New Styles for Enhanced About Section */
      .tech-tags {
        display: flex;
        flex-wrap: wrap;
        gap: 8px;
        margin-top: 15px;
      }

      .tech-tags span {
        background: rgba(255, 255, 255, 0.1);
        padding: 4px 12px;
        border-radius: 15px;
        font-size: 12px;
        font-family: 'Space Grotesk', sans-serif;
        color: rgba(255, 255, 255, 0.9);
        border: 1px solid rgba(255, 255, 255, 0.2);
      }

      .visualization-section {
        padding: 80px 20px;
        background: linear-gradient(180deg, rgba(0,0,0,0.8) 0%, rgba(0,0,0,0.95) 100%);
        position: relative;
        overflow: hidden;
      }

      .mega-header {
        text-align: center;
        margin-bottom: 60px;
      }

      .mega-title {
        font-size: 3.5rem;
        font-weight: 800;
        background: linear-gradient(45deg, #fff, #00c3ff);
        -webkit-background-clip: text;
        background-clip: text;
        color: transparent;
        margin-bottom: 20px;
        animation: titleFade 1s ease forwards;
      }

      .title-accent {
        width: 120px;
        height: 4px;
        background: linear-gradient(90deg, transparent, #00c3ff, transparent);
        margin: 20px auto;
        transform: scaleX(0);
        animation: accentExpand 0.8s ease forwards 0.3s;
      }

      .mega-subtitle {
        font-size: 1.2rem;
        color: rgba(255, 255, 255, 0.7);
        animation: subtitleFade 1s ease forwards 0.5s;
        opacity: 0;
      }

      .viz-container {
        max-width: 1400px;
        margin: 0 auto;
      }

      .viz-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
        gap: 30px;
        padding: 20px;
      }

      .viz-card {
        background: rgba(255, 255, 255, 0.03);
        backdrop-filter: blur(10px);
        border: 1px solid rgba(255, 255, 255, 0.1);
        border-radius: 20px;
        padding: 30px;
        position: relative;
        overflow: hidden;
        transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
      }

      .viz-card:hover {
        transform: translateY(-10px);
        border-color: #00c3ff;
        box-shadow: 0 10px 30px rgba(0, 195, 255, 0.1);
      }

      .card-icon {
        width: 60px;
        height: 60px;
        background: linear-gradient(45deg, #00c3ff20, #2979ff20);
        border-radius: 15px;
        display: flex;
        align-items: center;
        justify-content: center;
        margin-bottom: 20px;
      }

      .card-icon i {
        font-size: 24px;
        color: #00c3ff;
        animation: iconFloat 3s ease-in-out infinite;
      }

      .viz-card h3 {
        font-size: 1.5rem;
        color: #fff;
        margin-bottom: 15px;
      }

      .viz-card p {
        color: rgba(255, 255, 255, 0.7);
        margin-bottom: 20px;
        line-height: 1.6;
      }

      .feature-list {
        list-style: none;
        padding: 0;
      }

      .feature-list li {
        color: rgba(255, 255, 255, 0.6);
        margin: 10px 0;
        padding-left: 25px;
        position: relative;
      }

      .feature-list li::before {
        content: '→';
        position: absolute;
        left: 0;
        color: #00c3ff;
      }

      .card-glow {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: radial-gradient(circle at 50% 50%, 
            rgba(0, 195, 255, 0.1) 0%,
            transparent 70%);
        opacity: 0;
        transition: opacity 0.3s ease;
      }

      .viz-card:hover .card-glow {
        opacity: 1;
      }

      @keyframes titleFade {
        from {
          opacity: 0;
          transform: translateY(-20px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }

      @keyframes accentExpand {
        from { transform: scaleX(0); }
        to { transform: scaleX(1); }
      }

      @keyframes subtitleFade {
        from {
          opacity: 0;
          transform: translateY(20px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }

      @keyframes iconFloat {
        0%, 100% { transform: translateY(0); }
        50% { transform: translateY(-10px); }
      }

      /* Original Technical Details Styles */
      .tech-details {
        margin-top: 80px;
      }

      .tech-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
        gap: 30px;
        margin-top: 40px;
      }

      .tech-card {
        background: rgba(255, 255, 255, 0.05);
        padding: 30px;
        border-radius: 15px;
        border: 1px solid rgba(255, 255, 255, 0.1);
      }

      .tech-card h4 {
        font-family: 'Space Grotesk', sans-serif;
        font-size: 24px;
        margin-bottom: 20px;
        color: #fff;
      }

      .tech-list {
        list-style: none;
        padding: 0;
      }

      .tech-list li {
        margin: 15px 0;
        color: rgba(255, 255, 255, 0.8);
        font-family: 'Space Grotesk', sans-serif;
        position: relative;
        padding-left: 25px;
      }

      .tech-list li::before {
        content: '→';
        position: absolute;
        left: 0;
        color: #00c3ff;
      }
    </style>
  </head>
  <body onload="console.log('Page loaded')">
    <script>
      // Add this at the start of your script
      console.log('Checking Unity build files...');
      fetch('Build/lunar3d.loader.js')
        .then(response => {
          if (!response.ok) throw new Error('loader.js not found');
          console.log('Unity loader.js found');
        })
        .catch(error => console.error('Unity file check failed:', error));
    </script>

    <!-- Loading Screen -->
    <div class="loading-screen">
      <div class="loading-text">INITIALIZING PLANETARY SYSTEMS...</div>
    </div>

    <!-- Corner Decorations -->
    <div class="corner corner-tl"></div>
    <div class="corner corner-tr"></div>
    <div class="corner corner-bl"></div>
    <div class="corner corner-br"></div>

    <!-- Scan Line Effect -->
    <div class="scan-line"></div>

    <!-- Move nav outside and before hero section -->
    <nav id="sticky-nav">
      <div class="nav-content">
        <a href="#home">Home</a>
        <a href="#about">About</a>
        <a href="#explore">Explore</a>
        <a href="#contact">Contact</a>
      </div>
    </nav>

    <div class="ambient-light"></div>

    <!-- Hero Section with Unity and Welcome Text -->
    <section class="hero-section" id="home">
      <div id="unity-container" class="unity-desktop">
        <canvas id="unity-canvas" tabindex="-1"></canvas>
        <div id="unity-loading-bar">
          <div id="unity-progress-bar-empty">
            <div id="unity-progress-bar-full"></div>
          </div>
        </div>
        <div id="unity-warning"> </div>
        <div id="unity-footer">
          <div id="unity-fullscreen-button"></div>
        </div>
      </div>

      <div class="main-title">
        <div class="title-line glitch-text" id="line1" data-text="LUNAR NAVIGATOR">LUNAR NAVIGATOR</div>
        <div class="title-line glitch-text" id="line2" data-text="SAFE PATH SYSTEM">SAFE PATH SYSTEM</div>
        <div class="subtitle-text">Explore • Navigate • Discover</div>
      </div>

      <!-- Update the rocket HTML -->
      <div class="scroll-rocket">
        <div class="rocket">🛸</div>
      </div>
    </section>

    <!-- Content Wrapper -->
    <div class="content-wrapper">
      <!-- Info Section -->
      <section class="info-section" id="about">
        <h2 class="section-title fade-in">Project Overview</h2>
        
        <div class="info-grid">
          <!-- Layer 1: Data Generation -->
          <div class="info-card fade-in">
            <div class="card-icon">🌍</div>
            <h3>Synthetic Terrain Generation</h3>
            <p>Advanced algorithmic approach to generate diverse lunar terrain datasets, enabling comprehensive testing and validation of navigation systems.</p>
            <div class="stat-number">300+</div>
            <p>Synthetic Terrains Generated</p>
            <div class="tech-details-list">
              <li>Procedural terrain generation algorithms</li>
              <li>Digital elevation mapping</li>
              <li>Multi-resolution terrain synthesis</li>
              <li>Realistic crater and ridge formation</li>
              <li>Variable surface composition modeling</li>
            </div>
            <div class="tech-tags">
              <span>Python</span>
              <span>NumPy</span>
              <span>GIS</span>
              <span>DEM</span>
            </div>
          </div>

          <!-- Layer 2: Classification -->
          <div class="info-card fade-in">
            <div class="card-icon">🔍</div>
            <h3>Terrain Classification</h3>
            <p>Multi-layered classification system using Gaussian Mixture Models to identify and categorize terrain features for precise navigation planning.</p>
            <div class="stat-number">98.5%</div>
            <p>Classification Accuracy</p>
            <div class="tech-details-list">
              <li>Slope analysis and categorization</li>
              <li>Surface roughness assessment</li>
              <li>Hazard identification systems</li>
              <li>Real-time terrain feature detection</li>
              <li>Slip risk probability mapping</li>
            </div>
            <div class="tech-tags">
              <span>GMM</span>
              <span>Clustering</span>
              <span>ML</span>
              <span>Sklearn</span>
            </div>
          </div>

          <!-- Layer 3: Path Planning -->
          <div class="info-card fade-in">
            <div class="card-icon">🛣️</div>
            <h3>Intelligent Path Planning</h3>
            <p>Enhanced A* search algorithm optimized for lunar terrain, incorporating multi-parameter safety metrics for optimal route generation.</p>
            <div class="stat-number">A*</div>
            <p>Advanced Pathfinding</p>
            <div class="tech-details-list">
              <li>Dynamic obstacle avoidance</li>
              <li>Multi-criteria path optimization</li>
              <li>Real-time route recalculation</li>
              <li>Energy efficiency optimization</li>
              <li>Safety-first approach with redundancy</li>
            </div>
            <div class="tech-tags">
              <span>Pathfinding</span>
              <span>Optimization</span>
              <span>Safety</span>
              <span>Real-time</span>
            </div>
          </div>
        </div>

        <!-- Modern 3D Visualization Section -->
        <div class="visualization-section">
            <div class="mega-header">
                <h1 class="mega-title">3D Visualization & Analysis</h1>
                <div class="title-accent"></div>
                <p class="mega-subtitle">Experience Lunar Terrain in High-Fidelity 3D</p>
            </div>

            <div class="viz-container">
                <div class="viz-grid">
                    <!-- Real-time Visualization Card -->
                    <div class="viz-card" data-aos="fade-up">
                        <div class="card-icon">
                            <i class="fas fa-cube"></i>
                        </div>
                        <h3>Real-time 3D Rendering</h3>
                        <p>Dynamic visualization of lunar terrain with interactive controls</p>
                        <ul class="feature-list">
                            <li>High-fidelity surface details</li>
                            <li>Dynamic lighting system</li>
                            <li>Interactive camera controls</li>
                            <li>Real-time shadow mapping</li>
                        </ul>
                        <div class="card-glow"></div>
                    </div>

                    <!-- Terrain Analysis Card -->
                    <div class="viz-card" data-aos="fade-up" data-aos-delay="100">
                        <div class="card-icon">
                            <i class="fas fa-chart-bar"></i>
                        </div>
                        <h3>Terrain Analysis</h3>
                        <p>Comprehensive analysis tools for surface evaluation</p>
                        <ul class="feature-list">
                            <li>Elevation mapping</li>
                            <li>Slope analysis</li>
                            <li>Surface composition</li>
                            <li>Risk zone identification</li>
                        </ul>
                        <div class="card-glow"></div>
                    </div>

                    <!-- Navigation System Card -->
                    <div class="viz-card" data-aos="fade-up" data-aos-delay="200">
                        <div class="card-icon">
                            <i class="fas fa-route"></i>
                        </div>
                        <h3>Path Planning</h3>
                        <p>Intelligent navigation system with safety optimization</p>
                        <ul class="feature-list">
                            <li>Optimal route calculation</li>
                            <li>Hazard avoidance</li>
                            <li>Real-time path updates</li>
                            <li>Safety corridor mapping</li>
                        </ul>
                        <div class="card-glow"></div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Technical Details -->
        <div class="tech-details fade-in">
          <h3 class="subsection-title">Technical Implementation</h3>
          <div class="tech-grid">
            <div class="tech-card">
              <h4>Data Processing</h4>
              <ul class="tech-list">
                <li>Advanced terrain synthesis algorithms</li>
                <li>Real-time data processing</li>
                <li>Multi-layer feature extraction</li>
              </ul>
            </div>
            <div class="tech-card">
              <h4>AI & ML Integration</h4>
              <ul class="tech-list">
                <li>Gaussian Mixture Models for classification</li>
                <li>Deep learning for feature recognition</li>
                <li>Predictive analytics for safety assessment</li>
              </ul>
            </div>
            <div class="tech-card">
              <h4>Safety Systems</h4>
              <ul class="tech-list">
                <li>Real-time slip prediction</li>
                <li>Hazard detection and avoidance</li>
                <li>Emergency response protocols</li>
              </ul>
            </div>
          </div>
        </div>
      </section>
    </div>

    <section class="terrain-generator" id="explore">
      <h2 class="section-title fade-in">Lunar Terrain Generator</h2>
      
      <div class="generator-container fade-in">
        <div class="preset-selector">
          <label for="preset">Select Preset:</label>
          <select id="preset" class="terrain-input">
            <option value="Center">Center</option>
            <option value="North Area">North Area</option>
            <option value="South Area">South Area</option>
            <option value="Wide View">Wide View</option>
            <option value="Detailed">Detailed</option>
          </select>
        </div>

        <div class="coordinate-inputs">
          <div class="input-group">
            <label for="latitude">Latitude (30.0° to 31.0°):</label>
            <input type="number" id="latitude" class="terrain-input" value="30.5" step="0.1" min="30.0" max="31.0">
          </div>

          <div class="input-group">
            <label for="longitude">Longitude (134.0° to 136.0°):</label>
            <input type="number" id="longitude" class="terrain-input" value="135.0" step="0.1" min="134.0" max="136.0">
          </div>

          <div class="input-group">
            <label for="cropSize">Crop Size (0.1° to 1.5°):</label>
            <input type="number" id="cropSize" class="terrain-input" value="1.0" step="0.1" min="0.1" max="1.5">
          </div>
        </div>

        <button id="generateTerrain" class="generate-btn">Generate Terrain</button>

        <div id="result" class="result-container">
          <img id="terrainImage" class="terrain-image" style="display: none;">
          <div id="status" class="status-message"></div>
        </div>
      </div>
    </section>

    <section class="contact-section" id="contact">
      <h2 class="section-title fade-in">Mission Communication</h2>
      <div class="contact-container">
        <div class="contact-card fade-in">
          <h3>Mission Control</h3>
          <p>For immediate assistance and mission support</p>
          <div class="contact-button">
            <a href="mailto:mission@lunarnavigator.com" class="glow-button">Contact Command Center</a>
          </div>
        </div>
        
        <div class="contact-card fade-in">
          <h3>Emergency Protocol</h3>
          <p>24/7 Emergency Response Unit</p>
          <div class="contact-button">
            <a href="tel:+1234567890" class="glow-button emergency">Emergency Line</a>
          </div>
        </div>
      </div>
    </section>

    <script>
      // Loading screen and initial animations
      window.addEventListener('load', function() {
        setTimeout(() => {
          const loadingScreen = document.querySelector('.loading-screen');
          loadingScreen.style.opacity = '0';
          setTimeout(() => {
            loadingScreen.style.display = 'none';
            
            setTimeout(() => {
              const mainTitle = document.querySelector('.main-title');
              const line1 = document.getElementById('line1');
              const line2 = document.getElementById('line2');
              
              mainTitle.classList.add('show');
              line1.classList.add('show');
              line2.classList.add('show');
              
              // Scroll down to about section after title is shown
              setTimeout(() => {
                document.getElementById('about').scrollIntoView({ 
                  behavior: 'smooth',
                  block: 'start'
                });
              }, 2000); // Wait 2 seconds after title shows before scrolling
            }, 4500);
          }, 1000);
        }, 2000);
      });

      // Update the rocket HTML structure in your body
      const rocketHtml = `
      <div class="scroll-rocket">
        <div class="rocket">
          🛸
        </div>
      </div>
      `;

      // Add this after your existing style tag
      const rocketStyle = document.createElement('style');
      rocketStyle.textContent = `
        .scroll-rocket {
          position: fixed;
          bottom: 50px;
          left: 50%;
          transform: translateX(-50%);
          z-index: 1000;
          display: none;
        }

        .rocket {
          font-size: 48px; /* Larger size for better visibility */
          animation: hover 2s infinite ease-in-out;
        }

        .scroll-rocket.launching {
          animation: rocketLaunchNew 2.5s cubic-bezier(.37,.01,.74,.98) forwards;
        }

        @keyframes hover {
          0%, 100% { transform: translateY(0); }
          50% { transform: translateY(-10px); }
        }

        @keyframes rocketLaunchNew {
          0% {
            transform: translate(-50%, 0) scale(1);
            opacity: 1;
          }
          20% {
            transform: translate(-50%, -20vh) scale(1.2);
            opacity: 1;
          }
          100% {
            transform: translate(-50%, -120vh) scale(0.2);
            opacity: 0;
          }
        }

        .launch-trail {
          position: fixed;
          bottom: 0;
          left: 0;
          right: 0;
          height: 100vh;
          background: linear-gradient(to top, 
            rgba(255, 255, 255, 0.1),
            transparent 50%);
          opacity: 0;
          transition: opacity 0.3s;
          pointer-events: none;
          z-index: 999;
        }

        .launch-trail.active {
          opacity: 1;
        }
      `;
      document.head.appendChild(rocketStyle);

      // Update the generate terrain click handler
      document.getElementById('generateTerrain').addEventListener('click', async function() {
        const status = document.getElementById('status');
        const terrainImage = document.getElementById('terrainImage');
        
        status.textContent = 'Generating terrain...';
        terrainImage.style.display = 'none';

        try {
            // Get the input values
            const lat = parseFloat(document.getElementById('latitude').value);
            const lon = parseFloat(document.getElementById('longitude').value);
            const cropSize = parseFloat(document.getElementById('cropSize').value);

            // Validate input values
            if (lat < 30.0 || lat > 31.0) throw new Error('Latitude must be between 30.0° and 31.0°');
            if (lon < 134.0 || lon > 136.0) throw new Error('Longitude must be between 134.0° and 136.0°');
            if (cropSize < 0.1 || cropSize > 1.5) throw new Error('Crop size must be between 0.1° and 1.5°');

            // Send request to generate terrain
            const response = await fetch('/generate-terrain', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                },
                body: JSON.stringify({
                    lat: lat,
                    lon: lon,
                    crop_size: cropSize
                })
            });

            if (!response.ok) {
                throw new Error(`Server returned ${response.status}: ${response.statusText}`);
            }

            // Get the image blob
            const imageBlob = await response.blob();
            
            // Create download link and trigger download
            const downloadUrl = URL.createObjectURL(imageBlob);
            const downloadLink = document.createElement('a');
            downloadLink.href = downloadUrl;
            downloadLink.download = `terrain_lat${lat}_lon${lon}_crop${cropSize}.png`;
            document.body.appendChild(downloadLink);
            downloadLink.click();
            document.body.removeChild(downloadLink);
            
            // Display the image
            const imageUrl = URL.createObjectURL(imageBlob);
            terrainImage.src = imageUrl;
            terrainImage.style.display = 'block';
            status.textContent = 'Terrain downloaded! Preparing for departure...';

            // Start exit sequence after download
            setTimeout(() => {
                // Add exit overlay
                const exitOverlay = document.createElement('div');
                exitOverlay.className = 'exit-overlay';
                document.body.appendChild(exitOverlay);

                // Create and add rocket
                const rocketDiv = document.createElement('div');
                rocketDiv.className = 'scroll-rocket';
                rocketDiv.innerHTML = '<div class="rocket">🛸</div>';
                document.body.appendChild(rocketDiv);

                // Show rocket
                setTimeout(() => {
                    rocketDiv.style.display = 'block';
                    rocketDiv.classList.add('show');
                }, 100);

                // Add stars effect
                const starsContainer = document.createElement('div');
                starsContainer.className = 'stars-container';
                for (let i = 0; i < 100; i++) {
                    const star = document.createElement('div');
                    star.className = 'star';
                    star.style.left = `${Math.random() * 100}%`;
                    star.style.top = `${Math.random() * 100}%`;
                    star.style.animationDelay = `${Math.random() * 2}s`;
                    starsContainer.appendChild(star);
                }
                document.body.appendChild(starsContainer);

                // Trigger launch sequence
                setTimeout(() => {
                    rocketDiv.classList.add('launching');
                    exitOverlay.classList.add('active');
                    
                    // Navigate to root page after animations complete
                    setTimeout(() => {
                        window.location.href = 'http://127.0.0.1:5001/';
                    }, 3000);
                }, 2000);
            }, 1500);

            // Clean up the object URLs
            terrainImage.onload = () => {
                URL.revokeObjectURL(imageUrl);
                URL.revokeObjectURL(downloadUrl);
            };

        } catch (error) {
            status.textContent = `Error: ${error.message}`;
            console.error('Error details:', error);
        }
      });

      // Hover effect for nav links
      document.querySelectorAll('nav a').forEach(link => {
        link.addEventListener('mouseenter', () => {
          document.querySelector('.cursor').style.transform = 'translate(-50%, -50%) scale(1.5)';
        });
        link.addEventListener('mouseleave', () => {
          document.querySelector('.cursor').style.transform = 'translate(-50%, -50%) scale(1)';
        });
      });

      var container = document.querySelector("#unity-container");
      var canvas = document.querySelector("#unity-canvas");
      var loadingBar = document.querySelector("#unity-loading-bar");
      var progressBarFull = document.querySelector("#unity-progress-bar-full");
      var fullscreenButton = document.querySelector("#unity-fullscreen-button");
      var warningBanner = document.querySelector("#unity-warning");

      // Shows a temporary message banner/ribbon for a few seconds, or
      // a permanent error message on top of the canvas if type=='error'.
      // If type=='warning', a yellow highlight color is used.
      // Modify or remove this function to customize the visually presented
      // way that non-critical warnings and error messages are presented to the
      // user.
      function unityShowBanner(msg, type) {
        function updateBannerVisibility() {
          warningBanner.style.display = warningBanner.children.length ? 'block' : 'none';
        }
        var div = document.createElement('div');
        div.innerHTML = msg;
        warningBanner.appendChild(div);
        if (type == 'error') div.style = 'background: red; padding: 10px;';
        else {
          if (type == 'warning') div.style = 'background: yellow; padding: 10px;';
          setTimeout(function() {
            warningBanner.removeChild(div);
            updateBannerVisibility();
          }, 5000);
        }
        updateBannerVisibility();
      }

      var buildUrl = "Build";
      var loaderUrl = buildUrl + "/lunar3d.loader.js";
      var config = {
        dataUrl: buildUrl + "/lunar3d.data.gz",
        frameworkUrl: buildUrl + "/lunar3d.framework.js.gz",
        codeUrl: buildUrl + "/lunar3d.wasm.gz",
        streamingAssetsUrl: "StreamingAssets",
        companyName: "DefaultCompany",
        productName: "lunar surface",
        productVersion: "0.1",
        showBanner: unityShowBanner,
      };

      // By default Unity keeps WebGL canvas render target size matched with
      // the DOM size of the canvas element (scaled by window.devicePixelRatio)
      // Set this to false if you want to decouple this synchronization from
      // happening inside the engine, and you would instead like to size up
      // the canvas DOM size and WebGL render target sizes yourself.
      // config.matchWebGLToCanvasSize = false;

      if (/iPhone|iPad|iPod|Android/i.test(navigator.userAgent)) {
        // Mobile device style: fill the whole browser client area with the game canvas:

        var meta = document.createElement('meta');
        meta.name = 'viewport';
        meta.content = 'width=device-width, height=device-height, initial-scale=1.0, user-scalable=no, shrink-to-fit=yes';
        document.getElementsByTagName('head')[0].appendChild(meta);
        container.className = "unity-mobile";
        canvas.className = "unity-mobile";

        // To lower canvas resolution on mobile devices to gain some
        // performance, uncomment the following line:
        // config.devicePixelRatio = 1;


      } else {
        // Desktop style: Render the game canvas in a window that can be maximized to fullscreen:

        canvas.style.width = "960px";
        canvas.style.height = "600px";
      }

      loadingBar.style.display = "block";

      var script = document.createElement("script");
      script.src = loaderUrl;
      script.onload = () => {
        createUnityInstance(canvas, config, (progress) => {
          progressBarFull.style.width = 100 * progress + "%";
              }).then((unityInstance) => {
                loadingBar.style.display = "none";
                fullscreenButton.onclick = () => {
                  unityInstance.SetFullscreen(1);
                };
              }).catch((message) => {
                alert(message);
              });
            };

      document.body.appendChild(script);

      function isElementInViewport(el) {
        const rect = el.getBoundingClientRect();
        return (
          rect.top >= 0 &&
          rect.left >= 0 &&
          rect.bottom <= (window.innerHeight || document.documentElement.clientHeight) &&
          rect.right <= (window.innerWidth || document.documentElement.clientWidth)
        );
      }

      function handleScroll() {
        const infoSection = document.querySelector('.info-section');
        const cards = document.querySelectorAll('.info-card');
        const facts = document.querySelectorAll('.fact-item');
        const title = document.querySelector('.section-title');

        if (isElementInViewport(infoSection)) {
          infoSection.classList.add('visible');
          title.classList.add('visible');
          
          cards.forEach((card, index) => {
            setTimeout(() => {
              card.classList.add('visible');
            }, index * 200);
          });

          facts.forEach((fact, index) => {
            setTimeout(() => {
              fact.classList.add('visible');
            }, index * 150 + 600);
          });
        }
      }

      window.addEventListener('scroll', handleScroll);

      // Modify scroll behavior
      window.addEventListener('scroll', function() {
        const scrollPosition = window.scrollY;
        const mainTitle = document.querySelector('.main-title');
        const unityContainer = document.querySelector('#unity-container');
        
        // Fade out title and Unity container as user scrolls
        const opacity = 1 - (scrollPosition / window.innerHeight);
        mainTitle.style.opacity = Math.max(opacity, 0);
        
        if (scrollPosition > window.innerHeight) {
          unityContainer.style.visibility = 'hidden';
        } else {
          unityContainer.style.visibility = 'visible';
        }
      });

      // Updated navigation behavior
      window.addEventListener('scroll', function() {
        const nav = document.getElementById('sticky-nav');
        const scrollPosition = window.scrollY;

        if (scrollPosition > 50) {
          nav.classList.add('scrolled');
        } else {
          nav.classList.remove('scrolled');
        }
      });

      // Smooth scroll for navigation
      document.querySelectorAll('nav a').forEach(anchor => {
        anchor.addEventListener('click', function(e) {
          e.preventDefault();
          const targetId = this.getAttribute('href');
          const targetElement = document.querySelector(targetId);
          targetElement.scrollIntoView({
            behavior: 'smooth'
          });
        });
      });

      // Intersection Observer for fade-in animations
      const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
          if (entry.isIntersecting) {
            entry.target.classList.add('visible');
          }
        });
      }, {
        threshold: 0.1
      });

      // Observe all fade-in elements
      document.querySelectorAll('.fade-in').forEach((element) => {
        observer.observe(element);
      });

      const presets = {
        "Center": {"lat": 30.5, "lon": 135.0, "crop": 1.0},
        "North Area": {"lat": 31.0, "lon": 135.5, "crop": 0.5},
        "South Area": {"lat": 30.0, "lon": 134.5, "crop": 0.8},
        "Wide View": {"lat": 30.5, "lon": 135.0, "crop": 1.5},
        "Detailed": {"lat": 30.75, "lon": 135.25, "crop": 0.3}
      };

      document.getElementById('preset').addEventListener('change', function() {
        const preset = presets[this.value];
        document.getElementById('latitude').value = preset.lat;
        document.getElementById('longitude').value = preset.lon;
        document.getElementById('cropSize').value = preset.crop;
      });
    </script>
  </body>
</html>